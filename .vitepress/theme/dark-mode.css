/**
 * Dark Mode Enhancements
 * 基于 VitePress 默认主题的深色模式增强样式
 * -------------------------------------------------------------------------- */

/* --- 品牌色微调 ---------------------------------------------------------- */
.dark {
  --vp-c-brand-1: #7c8aff;
  --vp-c-brand-2: #6975f0;
  --vp-c-brand-3: #5b65e6;
  --vp-c-brand-soft: rgba(100, 108, 255, 0.16);
}

/* --- 代码块 -------------------------------------------------------------- */
.dark .vp-doc div[class*='language-'] {
  background: rgba(30, 32, 42, 0.85);
  border: 1px solid rgba(100, 108, 255, 0.12);
}

.dark .vp-doc div[class*='language-'] code {
  color: var(--vp-c-text-1);
}

/* --- 自定义容器 (tip / warning / danger) ---------------------------------- */
.dark .vp-doc .custom-block {
  border-left: 4px solid var(--vp-custom-block-info-border, var(--vp-c-divider));
}

.dark .vp-doc .custom-block.tip {
  background: rgba(100, 108, 255, 0.08);
  border-left-color: var(--vp-c-brand-1);
}

.dark .vp-doc .custom-block.warning {
  background: rgba(234, 179, 8, 0.08);
  border-left-color: var(--vp-c-warning-1);
}

.dark .vp-doc .custom-block.danger {
  background: rgba(244, 63, 94, 0.08);
  border-left-color: var(--vp-c-danger-1);
}

/* --- 特性卡片 (VPFeature) ------------------------------------------------ */
.dark .VPFeature {
  transition: border-color 0.3s, box-shadow 0.3s;
}

.dark .VPFeature:hover {
  border-color: rgba(100, 108, 255, 0.4);
  box-shadow: 0 0 16px rgba(100, 108, 255, 0.1);
}

/* --- 导航栏 & 侧边栏 (毛玻璃) -------------------------------------------- */
.dark .VPNav .VPNavBar .wrapper .container {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.dark .VPNavBar {
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.dark .VPSidebar {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-right: 1px solid rgba(255, 255, 255, 0.06);
}

/* --- 链接 hover 动画 ----------------------------------------------------- */
.dark .vp-doc a {
  text-decoration: underline transparent;
  text-underline-offset: 4px;
  transition: text-decoration-color 0.25s;
}

.dark .vp-doc a:hover {
  text-decoration-color: var(--vp-c-brand-1);
}

/* --- 滚动条 -------------------------------------------------------------- */
.dark ::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.dark ::-webkit-scrollbar-track {
  background: transparent;
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(100, 108, 255, 0.25);
  border-radius: 3px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 108, 255, 0.45);
}

/* --- 主题切换全局过渡 ---------------------------------------------------- */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

html,
html.dark {
  transition: color 0.3s, background-color 0.3s;
}
